// THIS FILE TESTS THE API ENDPOINTS (USES THE VSCODE EXTENSION "REST CLIENT" TO TEST THE API)
// UPDATE THE API KEYS TO THE ONES GENERATED BY THE API (API-KEY IN .ENV FILE)

@baseUrl = http://localhost:8080
@apiKey = {{$dotenv API_KEY}}

### ============================================
### HEALTH CHECK (No Auth Required)
### ============================================

### Health Check
GET {{baseUrl}}/health

### ============================================
### ADMIN ENDPOINTS (Admin Key Required)
### ============================================

### Create API Key
POST {{baseUrl}}/admin/apikeys
X-API-Key: {{apiKey}}
Content-Type: application/json

{
  "rate_limit": 100,
  "window_seconds": 60,
  "is_admin": false,
  "expires_at": "2025-12-31T23:59:59Z"
}

### Get API Key Information
GET {{baseUrl}}/admin/apikeys/{{apiKey}}
X-API-Key: {{apiKey}}

### ============================================
### COURSE ENDPOINTS
### ============================================

### Get All Courses by Term (Fall 2024)
GET {{baseUrl}}/api/v1/courses/?term=24f
X-API-Key: {{apiKey}}

### Get All Courses by Term (Spring 2025)
GET {{baseUrl}}/api/v1/courses/?term=25s
X-API-Key: {{apiKey}}

### Get Courses by Term with Prefix Filter (CS)
GET {{baseUrl}}/api/v1/courses/?term=24f&prefix=cs
X-API-Key: {{apiKey}}

### Get Courses by Term with Prefix and Number Filter (CS 1337)
GET {{baseUrl}}/api/v1/courses/?term=24f&prefix=cs&number=1337
X-API-Key: {{apiKey}}

### Get Courses by Prefix (CS)
GET {{baseUrl}}/api/v1/courses/?term=24f&prefix=cs
X-API-Key: {{apiKey}}

### Get Courses by Prefix (MATH)
GET {{baseUrl}}/api/v1/courses/?term=24f&prefix=math
X-API-Key: {{apiKey}}

### Get Courses by Prefix and Number (CS 1337)
GET {{baseUrl}}/api/v1/courses/?term=24f&prefix=cs&number=1337
X-API-Key: {{apiKey}}

### Get Courses by Prefix and Number (MATH 2413)
GET {{baseUrl}}/api/v1/courses/?term=24f&prefix=math&number=2413
X-API-Key: {{apiKey}}

### Search Courses by Query (Computer Science)
GET {{baseUrl}}/api/v1/courses/?term=24f&q=Computer Science
X-API-Key: {{apiKey}}

### Search Courses by Query (Data Structures)
GET {{baseUrl}}/api/v1/courses/?term=24f&q=Data Structures
X-API-Key: {{apiKey}}

### ============================================
### PROFESSOR ENDPOINTS
### ============================================

### Get Professor by Name (Anani Komla Adabrah)
GET {{baseUrl}}/api/v1/professors/name/anani komla adabrah
X-API-Key: {{apiKey}}


### Get Professor by ID (example - update with actual ID)
GET {{baseUrl}}/api/v1/professors/id/aaa130530
X-API-Key: {{apiKey}}


### ============================================
### GRADE ENDPOINTS
### ============================================

### Get Grades by Professor ID (update ID as needed)
GET {{baseUrl}}/api/v1/grades/prof/id/ewb160130
X-API-Key: {{apiKey}}

### Get Grades by Professor Name (update name as needed)
GET {{baseUrl}}/api/v1/grades/prof/name/eric becker
X-API-Key: {{apiKey}}

### Get Grades by Prefix (update prefix as needed)
GET {{baseUrl}}/api/v1/grades/prefix/cs
X-API-Key: {{apiKey}}

### Get Grades by Prefix and Number (update values as needed)
GET {{baseUrl}}/api/v1/grades/prefix/cs/number/1337
X-API-Key: {{apiKey}}

### Get Grades by Prefix and Term (update values as needed)
GET {{baseUrl}}/api/v1/grades/prefix/cs/term/24f
X-API-Key: {{apiKey}}

###